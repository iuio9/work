# 演示数据手动导入指南

## 🎯 重要提示

由于系统没有安装 `mysql` 命令行工具，请使用你常用的数据库管理工具（Navicat、MySQL Workbench、phpMyAdmin等）手动导入。

## 📋 数据库配置信息

- **数据库名**: `mark`
- **用户名**: `root`
- **密码**: `20031217scz`
- **地址**: `localhost:3306`

## 🚀 导入步骤

### 第一步：导入训练演示数据

1. 打开你的数据库管理工具
2. 连接到数据库 `mark`
3. 打开并执行SQL文件：`demo_data_fixed.sql`
4. 等待执行完成（约需5-10秒）

**导入内容**：
- ✅ 3个训练任务（已完成/运行中/已暂停）
- ✅ 179条训练历史记录
- ✅ 2条模型评估结果
- ✅ 4个LoRA预设配置

### 第二步：导入标注演示数据

1. 在同一个数据库 `mark` 中
2. 打开并执行SQL文件：`demo_annotation_data.sql`
3. 等待执行完成（约需3-5秒）

**导入内容**：
- ✅ 17张待标注图片
- ✅ 1个自动标注任务
- ✅ 15张已预测图片（不同置信度）
- ✅ 2张已验证图片

## ✅ 验证导入结果

执行以下SQL语句验证数据是否导入成功：

```sql
-- 验证训练任务数据
SELECT
    '训练任务' AS 数据类型,
    COUNT(*) AS 数量
FROM md_training_task
WHERE task_id LIKE 'DEMO_%'
UNION ALL
SELECT
    '训练历史',
    COUNT(*)
FROM md_training_history
WHERE task_id LIKE 'DEMO_%'
UNION ALL
SELECT
    '模型评估',
    COUNT(*)
FROM md_model_evaluation
WHERE task_id LIKE 'DEMO_%'
UNION ALL
SELECT
    'LoRA预设',
    COUNT(*)
FROM md_lora_preset
WHERE preset_name LIKE '演示-%';
```

**期望结果**：
- 训练任务：3
- 训练历史：179
- 模型评估：2
- LoRA预设：4

```sql
-- 验证标注数据
SELECT
    '图片数据' AS 数据类型,
    COUNT(*) AS 总数,
    SUM(CASE WHEN status='PENDING' THEN 1 ELSE 0 END) AS 未标注,
    SUM(CASE WHEN status='PREDICTED' THEN 1 ELSE 0 END) AS 已预测,
    SUM(CASE WHEN status='VERIFIED' THEN 1 ELSE 0 END) AS 已验证
FROM demo_images
UNION ALL
SELECT
    '标注任务',
    COUNT(*),
    NULL,
    NULL,
    NULL
FROM demo_annotation_tasks;
```

**期望结果**：
- 图片数据：总数17，未标注2，已预测15，已验证2
- 标注任务：1

## 🎬 启动系统查看演示数据

### 1. 重启后端（确保读取新数据）

```bash
cd /home/user/work/back/datamark-admin
# 如果后端正在运行，先停止（Ctrl+C）
mvn spring-boot:run
```

### 2. 刷新前端

- 打开浏览器，访问 `http://localhost:3000`
- **清除浏览器缓存**：按 `Ctrl + Shift + R` （Mac: `Cmd + Shift + R`）
- 进入"模型蒸馏训练"页面

### 3. 查看演示数据

你应该能看到：

**训练任务列表**（3个任务）：
1. ✅ **DEMO_COMPLETED** - 已完成（准确率76.98%）
2. ▶️ **DEMO_RUNNING** - 运行中（42/100 epoch）
3. ⏸️ **DEMO_PAUSED** - 已暂停（87/100 epoch）

**训练详情**（点击任务查看）：
- 完整的50个epoch训练曲线
- Loss从2.5下降到0.62
- Accuracy从35%提升到78%
- GPU使用率、显存占用等实时监控数据

**模型评估结果**：
- 准确率：76.98%
- 精确率：77.23%
- 召回率：76.45%
- F1分数：76.84%

## ❌ 如果仍然看不到数据

### 检查清单：

1. **确认数据已导入**：在数据库工具中执行上面的验证SQL
2. **检查后端日志**：看是否有SQL错误或异常
3. **检查浏览器控制台**：按F12，查看Network标签，看API请求是否成功
4. **确认数据库配置**：检查 `application-test.yml` 中的数据库名是否为 `mark`
5. **清除浏览器缓存**：彻底清除（不只是刷新）
6. **重启后端服务**：确保读取最新数据

### 常见问题：

**Q: 执行SQL时报错 "Table doesn't exist"**
A: 需要先运行 `model_distillation_schema.sql` 创建表结构

**Q: 前端API调用返回空数组 `[]`**
A: 检查后端是否添加了 `del_flag = 0` 的过滤条件，确认数据的 `del_flag` 字段为0

**Q: 数据导入成功但前端不显示**
A:
1. 清除浏览器所有缓存和Cookie
2. 完全重启后端（不要热重载）
3. 检查前端是否有JavaScript错误

## 📞 紧急情况

如果明天演示前还是无法显示数据，可以：

1. **准备截图**：把预期的界面效果截图准备好
2. **录制视频**：提前录制一个5分钟的演示视频
3. **准备PPT**：把关键数据和图表放到PPT中展示

## 🎉 祝你演示成功！

按照这个指南操作，数据应该能正常导入和显示。加油！💪
